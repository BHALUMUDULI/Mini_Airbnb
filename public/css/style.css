/* =========================================================
   FILTERS (Horizontal Scrolling Fix & Styling)
========================================================= */
#filters {
    display: flex;
    flex-wrap: nowrap;
    align-items: center;
    padding-bottom: 0.5rem;
    /* Added a bottom border to the whole filter section for separation */
    border-bottom: 1px solid #e0e0e0; 
}

/* Container for the actual filter icons, enabling scrolling */
.filter-scroll-container {
    flex-grow: 1; 
    overflow-x: auto; 
    flex-wrap: nowrap; 
    -ms-overflow-style: none; 
    scrollbar-width: none; 
    /* Max width to leave space for the tax toggle */
    max-width: calc(100% - 250px); 
    padding-right: 2rem;
}

/* Hide scrollbar for Webkit browsers (Chrome, Safari) */
.filter-scroll-container::-webkit-scrollbar {
    display: none;
}

.filter {
    flex-shrink: 0; 
    text-align: center;
    margin-right: 2rem; 
    padding: 0.4rem 0.1rem; /* Adjust padding for visual alignment */
    opacity: 0.6;
    transition: all 0.2s ease-in-out;
    border-bottom: 2px solid transparent; 
}

.filter:hover {
    opacity: 1;
    cursor: pointer;
}

/* Active Filter Styling (The red underline effect from the image) */
.filter.active, .filter:hover {
    opacity: 1;
    border-bottom: 2px solid #fe424d; /* Use the primary color */
}

.filter i {
    font-size: 1.5rem; /* Icon size */
}

.filter p {
    font-size: 0.75rem; /* Smaller, neat text */
    font-weight: 500;
    margin-top: 0.25rem;
    color: #222222;
}

.tax-info {
    display: none;
}

/* --- Attractive Tax Toggle Style (Right Aligned) --- */
.tax-toggle {
    flex-shrink: 0; 
    /* Border and styling inspired by the image for a dedicated switch area */
    border: 1px solid #cccccc;
    border-radius: 20px; 
    padding: 0.4rem 1rem;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05); /* Subtle shadow */
    background-color: #ffffff;
    /* ms-auto in EJS pushes it right, adding some margin here */
    margin-left: 2rem; 
}

.tax-toggle .form-check-label {
    font-size: 0.9rem;
    font-weight: 400;
    color: #222222;
    /* The label is now on the left of the switch */
}

.tax-toggle .form-check-input {
    cursor: pointer;
    background-color: #e0e0e0;
    border: 1px solid #e0e0e0;
}

.tax-toggle .form-check-input:checked {
    background-color: #222222; /* Black or dark gray for a premium look */
    border-color: #222222;
}

/* =========================================================
   RESPONSIVE (Revised)
========================================================= */

@media (max-width: 992px) {
    /* Adjust filter spacing for medium screens */
    .filter {
        margin-right: 1.5rem;
    }
    .filter-scroll-container {
        /* Allow scroll container to take more space on medium screens */
        max-width: calc(100% - 180px); 
    }
}

@media (max-width: 768px) {
    /* Make the tax toggle disappear on smaller screens, or adjust its position */
    .tax-toggle {
        /* Hiding it often works best for very narrow mobile screens */
        display: none !important; 
    }
    
    /* Allow filters to take full width */
    .filter-scroll-container {
        max-width: 100%;
    }
    
    /* Smaller filter icons for mobile */
    .filter i {
        font-size: 1.3rem;
    }
    .filter p {
        font-size: 0.65rem;
    }
    .card-img-top {
        height: 14rem;
    }
}